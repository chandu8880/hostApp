import{a as y,b as u,c as x,d as I,e as L,f as E,g as F,k as C,l as T}from"./chunk-7GZBQAJS.js";import{a as k}from"./chunk-N2Q3HUDJ.js";import{$ as h,F as l,G as n,H as t,K as d,L as g,Q as s,S as v,_,ca as S,ga as w,s as a,u as p,v as b,z as m}from"./chunk-S65VY67R.js";import"./chunk-2VMXMS7J.js";function N(r,o){r&1&&(n(0,"span"),s(1,"Email is required"),t())}function D(r,o){r&1&&(n(0,"span"),s(1,"Invalid email"),t())}function R(r,o){if(r&1&&(n(0,"div",7),m(1,N,2,0,"span",8)(2,D,2,0,"span",8),t()),r&2){let i=g();a(),l("ngIf",i.email==null||i.email.errors==null?null:i.email.errors.required),a(),l("ngIf",i.email==null||i.email.errors==null?null:i.email.errors.email)}}function q(r,o){r&1&&(n(0,"span"),s(1,"Password is required"),t())}function A(r,o){r&1&&(n(0,"span"),s(1,"Minimum 6 characters"),t())}function G(r,o){if(r&1&&(n(0,"div",7),m(1,q,2,0,"span",8)(2,A,2,0,"span",8),t()),r&2){let i=g();a(),l("ngIf",i.password==null||i.password.errors==null?null:i.password.errors.required),a(),l("ngIf",i.password==null||i.password.errors==null?null:i.password.errors.minlength)}}var c=class r{constructor(o,i,e){this.router=o;this.fb=i;this.appService=e;this.loginForm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]})}loginForm;isSubmitting=!1;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.invalid)return;this.isSubmitting=!0;let o=[];this.appService.users$.subscribe(e=>{o=e??[]});let i=o.find(e=>e.email===this.email?.value&&e.password===this.password?.value);if(!i){this.isSubmitting=!1,alert("Invalid email or password");return}setTimeout(()=>{this.isSubmitting=!1,console.log("Login success",this.loginForm.value),this.appService.setCurrentUser(i),this.router.navigate(["/shell"])},1500)}static \u0275fac=function(i){return new(i||r)(p(S),p(C),p(k))};static \u0275cmp=b({type:r,selectors:[["app-login"]],decls:16,vars:5,consts:[[1,"login-container"],[1,"login-card",3,"ngSubmit","formGroup"],[1,"form-group"],["type","email","formControlName","email","placeholder","you@example.com",3,"blur"],["class","error",4,"ngIf"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"blur"],["type","submit",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"form",1),d("ngSubmit",function(){return e.onSubmit()}),n(2,"h2"),s(3,"Welcome Back \u{1F44B}"),t(),n(4,"div",2)(5,"label"),s(6,"Email"),t(),n(7,"input",3),d("blur",function(){return e.email==null?null:e.email.markAsTouched()}),t(),m(8,R,3,2,"div",4),t(),n(9,"div",2)(10,"label"),s(11,"Password"),t(),n(12,"input",5),d("blur",function(){return e.password==null?null:e.password.markAsTouched()}),t(),m(13,G,3,2,"div",4),t(),n(14,"button",6),s(15),t()()()),i&2&&(a(),l("formGroup",e.loginForm),a(7),l("ngIf",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),a(5),l("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),a(),l("disabled",e.loginForm.invalid||e.isSubmitting),a(),v(" ",e.isSubmitting?"Logging in...":"Login"," "))},dependencies:[h,_,T,L,y,x,I,E,F,w],styles:[`.login-container{display:flex;height:100vh;justify-content:center;align-items:center;background:linear-gradient(to right,#667eea,#764ba2);animation:fadeIn 1s ease}.login-card{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 8px 30px #0003;width:350px;animation:slideUp .8s ease}.login-card h2{margin-bottom:1.5rem;color:#333;text-align:center}.login-card .form-group{margin-bottom:1.2rem}.login-card .form-group label{display:block;font-weight:700;margin-bottom:.5rem;color:#444}.login-card .form-group input{width:100%;padding:.6rem;font-size:1rem;border:1px solid #ccc;border-radius:6px;transition:border .3s ease}.login-card .form-group input:focus{border-color:#764ba2;outline:none}.login-card .form-group .error{color:#e74c3c;font-size:.85rem;margin-top:.3rem}.login-card button{width:100%;padding:.75rem;background:#764ba2;color:#fff;font-weight:700;border:none;border-radius:6px;cursor:pointer;transition:background .3s ease}.login-card button:hover{background:#5b3d91}.login-card button:disabled{background:#ccc;cursor:not-allowed}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{transform:translateY(40px);opacity:0}to{transform:translateY(0);opacity:1}}
`],encapsulation:2})};var Q=[{path:"",component:c}];export{Q as authRoutes};
