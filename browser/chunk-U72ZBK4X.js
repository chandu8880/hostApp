import{a as P,b as p,c as S,d as w,e as O,f as y,g as x,k as I,l as F}from"./chunk-APVXYIED.js";import{a as L}from"./chunk-ZAQTHZHB.js";import{$ as C,F as l,G as o,H as i,I as c,K as _,L as g,Q as s,S as b,_ as v,ea as h,ia as M,s as a,u as d,v as f,z as m}from"./chunk-32BR5JMG.js";import"./chunk-4CLCTAJ7.js";function E(t,r){t&1&&(o(0,"span"),s(1,"Email is required"),i())}function k(t,r){t&1&&(o(0,"span"),s(1,"Invalid email"),i())}function N(t,r){if(t&1&&(o(0,"div",7),m(1,E,2,0,"span",8)(2,k,2,0,"span",8),i()),t&2){let e=g();a(),l("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.required),a(),l("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.email)}}function T(t,r){t&1&&(o(0,"span"),s(1,"Password is required"),i())}function D(t,r){t&1&&(o(0,"span"),s(1,"Minimum 6 characters"),i())}function R(t,r){if(t&1&&(o(0,"div",7),m(1,T,2,0,"span",8)(2,D,2,0,"span",8),i()),t&2){let e=g();a(),l("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.required),a(),l("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.minlength)}}var u=class t{constructor(r,e,n){this.router=r;this.fb=e;this.appService=n;this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]})}loginForm;isSubmitting=!1;get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.invalid)return;this.isSubmitting=!0;let r=[];this.appService.users$.subscribe(n=>{r=n??[]});let e=r.find(n=>n.email===this.email?.value&&n.password===this.password?.value);if(!e){this.isSubmitting=!1,alert("Invalid email or password");return}setTimeout(()=>{this.isSubmitting=!1,console.log("Login success",this.loginForm.value),this.appService.setCurrentUser(e),this.router.navigate(["/shell"])},1500)}static \u0275fac=function(e){return new(e||t)(d(h),d(I),d(L))};static \u0275cmp=f({type:t,selectors:[["app-login"]],decls:16,vars:5,consts:[[1,"login-container"],[1,"login-card",3,"ngSubmit","formGroup"],[1,"form-group"],["type","email","formControlName","email","placeholder","you@example.com"],["class","error",4,"ngIf"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["type","submit",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"form",1),_("ngSubmit",function(){return n.onSubmit()}),o(2,"h2"),s(3,"Welcome Back \u{1F44B}"),i(),o(4,"div",2)(5,"label"),s(6,"Email"),i(),c(7,"input",3),m(8,N,3,2,"div",4),i(),o(9,"div",2)(10,"label"),s(11,"Password"),i(),c(12,"input",5),m(13,R,3,2,"div",4),i(),o(14,"button",6),s(15),i()()()),e&2&&(a(),l("formGroup",n.loginForm),a(7),l("ngIf",(n.email==null?null:n.email.invalid)&&(n.email==null?null:n.email.touched)),a(5),l("ngIf",(n.password==null?null:n.password.invalid)&&(n.password==null?null:n.password.touched)),a(),l("disabled",n.loginForm.invalid||n.isSubmitting),a(),b(" ",n.isSubmitting?"Logging in...":"Login"," "))},dependencies:[C,v,F,O,P,S,w,y,x,M],styles:[".login-container[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;background:linear-gradient(to right,#667eea,#764ba2);animation:_ngcontent-%COMP%_fadeIn 1s ease}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 8px 30px #0003;width:350px;animation:_ngcontent-%COMP%_slideUp .8s ease}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333;text-align:center}.login-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem}.login-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:.5rem;color:#444}.login-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.6rem;font-size:1rem;border:1px solid #ccc;border-radius:6px;transition:border .3s ease}.login-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#764ba2;outline:none}.login-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85rem;margin-top:.3rem}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#764ba2;color:#fff;font-weight:700;border:none;border-radius:6px;cursor:pointer;transition:background .3s ease}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#5b3d91}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(40px);opacity:0}to{transform:translateY(0);opacity:1}}"]})};var X=[{path:"",component:u}];export{X as authRoutes};
