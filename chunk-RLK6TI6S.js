import{a as c}from"./chunk-LJA2EJBB.js";import{$ as k,A as f,G as S,H as n,I as t,J as U,L as g,R as r,S as A,T as b,aa as R,ca as I,da as u,ea as C,fa as L,ha as x,i as h,l as m,t as s,v as d,w as v}from"./chunk-I67E4GUK.js";import"./chunk-2VMXMS7J.js";function O(e,o){e&1&&(n(0,"a",10),r(1,"Create User"),t())}var p=class e{constructor(o,l){this.router=o;this.appService=l}currentUser=null;ngOnInit(){this.appService.currentUser$.subscribe(o=>{this.currentUser=o??null,this.currentUser||this.router.navigate(["/login"])})}loutOut(){this.appService.setCurrentUser(null),this.router.navigate(["/login"])}static \u0275fac=function(l){return new(l||e)(d(u),d(c))};static \u0275cmp=v({type:e,selectors:[["app-shell"]],decls:22,vars:3,consts:[[1,"d-flex","align-items-center",2,"background","#222","color","white","padding","1rem"],[1,"my-2"],[1,"ml-auto"],[1,"text-right"],[1,"d-flex","py-2","border-bottom"],["routerLink","/shell/dashboard","routerLinkActive","active"],["routerLink","/shell/users","routerLinkActive","active"],["routerLink","/shell/users/userscreate","routerLinkActive","active",4,"ngIf"],[1,"p-2",3,"click"],[1,"p-2"],["routerLink","/shell/users/userscreate","routerLinkActive","active"]],template:function(l,i){l&1&&(n(0,"header",0)(1,"h3",1),r(2,"My Admin Panel"),t(),n(3,"div",2)(4,"div"),r(5),t(),n(6,"div",3),r(7),t()()(),n(8,"div",4)(9,"div")(10,"a",5),r(11,"Dashboard"),t(),r(12," | "),n(13,"a",6),r(14,"Users"),t(),r(15," | "),f(16,O,2,0,"a",7),t(),n(17,"div",2)(18,"span",8),g("click",function(){return i.loutOut()}),r(19,"LogOut"),t()()(),n(20,"main",9),U(21,"router-outlet"),t()),l&2&&(s(5),b("User : ",i.currentUser==null?null:i.currentUser.name),s(2),A(i.currentUser==null?null:i.currentUser.role),s(9),S("ngIf",(i.currentUser==null||i.currentUser.role==null||i.currentUser.role.toLowerCase==null?null:i.currentUser.role.toLowerCase())=="admin"))},dependencies:[x,I,C,L,R,k],encapsulation:2})};var a=class e{constructor(o,l){this.appService=o;this.router=l}canActivate(){return this.appService.getCurrentUser()?!0:this.router.parseUrl("/login")}static \u0275fac=function(l){return new(l||e)(m(c),m(u))};static \u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})};var $=[{path:"",component:p,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>import("./chunk-KGRT5M3X.js").then(e=>e.dashboardRoutes),canActivate:[a]},{path:"users",loadChildren:()=>import("./chunk-YYEHW7ZZ.js").then(e=>e.userRoutes),canActivate:[a]}]},{path:"",redirectTo:"shell",pathMatch:"full"}];export{$ as shellRoutes};
